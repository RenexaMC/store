<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RenexaMC Store | Ù…ØªØ¬Ø± Ø±ÙŠÙ†ÙƒØ³Ø§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #0d1117; color: #ffffff; margin: 0; overflow-x: hidden; }
        .minecraft-card { background: #161b22; border: 2px solid #30363d; border-radius: 15px; transition: 0.3s; height: 100%; display: flex; flex-direction: column; justify-content: space-between; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 100; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .platform-btn { border: 2px solid #30363d; background: #1c2128; padding: 10px 20px; border-radius: 12px; cursor: pointer; transition: 0.3s; width: 100px; font-weight: bold; }
        .platform-btn.active { background: #22c55e !important; border-color: #4ade80 !important; }
        .page-content { display: none; padding: 20px; padding-bottom: 100px; animation: fadeIn 0.3s ease; }
        .page-active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .nav-link { color: #6b7280; cursor: pointer; text-align: center; flex: 1; padding: 10px 0; }
        .nav-link.active { color: #f472b6; }
        .lock-overlay { filter: blur(3px); pointer-events: none; opacity: 0.5; }
        .user-menu { display: none; position: absolute; top: 65px; right: 20px; background: #1c2128; border: 1px solid #30363d; border-radius: 12px; z-index: 200; width: 150px; }
        .server-logo { width: 35px; height: 35px; object-fit: contain; }
        .vote-internal-box { background: #1c2128; border: 2px solid #30363d; border-radius: 25px; padding: 30px; max-width: 400px; margin: 0 auto; transition: 0.4s; }
        .vote-success-anim { animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body onload="checkSavedUser()">

    <nav class="sticky top-0 z-50 bg-[#0d1117] border-b border-gray-800 px-6 py-4 flex items-center justify-between shadow-xl">
        <div class="flex items-center gap-2">
            <img src="https://i.ibb.co/yBc0NZ68/server.png" class="server-logo" alt="RenexaMC Logo">
            <div class="text-xl font-black text-pink-500 uppercase italic">RenexaMC</div>
        </div>
        
        <button id="login-trigger" onclick="openModal()" class="bg-blue-600 px-5 py-2 rounded-lg font-bold text-xs hover:bg-blue-700 transition">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>

        <div id="user-profile" class="hidden relative flex items-center gap-3 bg-gray-800/80 p-1 pr-4 rounded-full border border-pink-500/30 cursor-pointer" onclick="toggleUserMenu()">
            <div class="text-right leading-tight">
                <div id="display-name" class="text-xs font-black text-pink-400">Player</div>
                <div id="display-platform" class="text-[9px] text-gray-400 italic">Java</div>
            </div>
            <img id="player-head" src="https://mc-heads.net/avatar/steve" class="w-8 h-8 rounded-lg">
            <div id="logout-dropdown" class="user-menu shadow-2xl">
                <button onclick="logout()" class="w-full text-right p-3 text-red-400 text-xs font-bold hover:bg-gray-700 rounded-lg"><i class="fa fa-sign-out-alt ml-2"></i> Ø®Ø±ÙˆØ¬</button>
            </div>
        </div>
    </nav>

    <div id="loginModal" class="modal">
        <div class="bg-[#161b22] p-8 rounded-3xl border border-gray-700 w-[90%] max-w-md text-center relative">
            <button onclick="closeModal()" class="absolute top-4 left-4 text-gray-400 hover:text-white transition">
                <i class="fa fa-times text-xl"></i>
            </button>
            <h2 class="text-2xl font-black mb-6 text-pink-500">Ø³Ø¬Ù„ÙŠ Ø¯Ø®ÙˆÙ„Ùƒ âš”ï¸</h2>
            <input id="usernameInput" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨..." class="w-full bg-[#0d1117] border border-gray-700 p-4 rounded-xl mb-6 text-center outline-none focus:border-pink-500 text-white font-bold">
            <p class="text-sm text-gray-400 mb-4 font-bold">Ù‡Ù„ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨ÙŠØ¯Ø±ÙˆÙƒ (Bedrock)ØŸ</p>
            <div class="flex justify-center gap-4 mb-8">
                <button onclick="setPlatform(true)" id="btn-yes" class="platform-btn">Ù†Ø¹Ù…</button>
                <button onclick="setPlatform(false)" id="btn-no" class="platform-btn active">Ù„Ø§</button>
            </div>
            <button onclick="login()" class="w-full bg-pink-600 py-4 rounded-xl font-black text-lg hover:bg-pink-500 transition shadow-lg">ØªØ£ÙƒÙŠØ¯ ÙˆØ¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <main class="max-w-4xl mx-auto">
        <section id="page-home" class="page-content page-active">
            <div class="w-full rounded-3xl bg-gradient-to-br from-pink-600/20 to-blue-900/20 p-12 border border-pink-500/20 text-center mt-10 shadow-2xl">
                <h1 class="text-4xl font-black mb-4 italic">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ ÙÙŠ Ø±ÙŠÙ†ÙƒØ³Ø§</h1>
                <p class="text-gray-400 mb-8 font-bold">Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ø¨Ø§Ù†ØªØ¸Ø§Ø±ÙƒÙ. Ø§Ù†Ø¶Ù…ÙŠ Ù„Ù…Ø¬ØªÙ…Ø¹Ù†Ø§ ÙˆØªØ§Ø¨Ø¹ÙŠ Ø¢Ø®Ø± Ø§Ù„ØªØ·ÙˆØ±Ø§Øª.</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="showPage('store')" class="bg-pink-600 px-8 py-4 rounded-full font-black shadow-lg shadow-pink-500/20 transition hover:scale-105 flex items-center justify-center gap-2">
                        <i class="fa fa-shopping-cart"></i> ØªØµÙØ­ Ø§Ù„Ù…ØªØ¬Ø±
                    </button>
                    <a href="https://discord.gg/kuXEjUDHmq" target="_blank" class="bg-[#5865F2] px-8 py-4 rounded-full font-black shadow-lg shadow-indigo-500/20 transition hover:scale-105 flex items-center justify-center gap-2">
                        <i class="fab fa-discord"></i> Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
                    </a>
                </div>
            </div>
        </section>

        <section id="page-store" class="page-content">
            <h2 class="text-2xl font-black mb-8 italic flex items-center gap-2">ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ø±ØªØ¨</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="minecraft-card p-6 text-center border-t-4 border-t-green-500">
                    <div><i class="fa fa-shield-alt text-4xl text-green-500 mb-4"></i><h3 class="font-black text-lg uppercase italic mb-2">Rank VIP</h3><div class="text-2xl font-black text-blue-400 mb-4">15.00 SAR</div></div>
                    <button class="w-full bg-blue-600 py-3 rounded-xl font-bold hover:bg-blue-500 transition">Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†</button>
                </div>
                <div class="minecraft-card p-6 text-center border-t-4 border-t-cyan-500">
                    <div><i class="fa fa-bolt text-4xl text-cyan-400 mb-4"></i><h3 class="font-black text-lg uppercase italic mb-2">Rank VIP+</h3><div class="text-2xl font-black text-blue-400 mb-4">30.00 SAR</div></div>
                    <button class="w-full bg-blue-600 py-3 rounded-xl font-bold hover:bg-blue-500 transition">Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†</button>
                </div>
                <div class="minecraft-card p-6 text-center border-t-4 border-t-pink-500 bg-pink-500/5">
                    <div><i class="fa fa-crown text-4xl text-pink-500 mb-4"></i><h3 class="font-black text-lg uppercase italic mb-2 text-pink-500">RenexaMC</h3><div class="text-2xl font-black text-pink-400 mb-4">60.00 SAR</div></div>
                    <button class="w-full bg-pink-600 py-3 rounded-xl font-bold hover:bg-pink-500 transition">Ø£Ø¹Ù„Ù‰ Ø±ØªØ¨Ø©</button>
                </div>
            </div>
        </section>

        <section id="page-vote" class="page-content text-center">
            <div class="bg-[#161b22] p-10 rounded-3xl border-2 border-dashed border-green-500/30 mt-10 shadow-2xl">
                <i class="fa fa-vote-yea text-7xl text-green-500 mb-4"></i>
                <h2 class="text-3xl font-black italic mb-2 uppercase">Ø§Ù„ØªØµÙˆÙŠØª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h2>
                <p id="vote-msg" class="text-sm text-yellow-500 mb-8 italic font-bold">âš ï¸ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ VotingPlugin</p>
                <div id="vote-area" class="lock-overlay">
                    <div class="vote-internal-box">
                        <div id="voteStep1">
                            <p class="text-gray-400 text-sm mb-6">Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ù„Ù„Ø³ÙŠØ±ÙØ± Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
                            <button onclick="startInternalVote()" id="mainVoteBtn" class="w-full bg-green-600 py-5 rounded-2xl font-black text-lg hover:bg-green-500 transition-all transform hover:scale-105 shadow-xl flex items-center justify-center gap-3"><i class="fa fa-bolt text-yellow-300"></i> ØªØµÙˆÙŠØª Ø§Ù„Ø¢Ù†</button>
                        </div>
                        <div id="voteStepLoading" class="hidden py-10"><div class="animate-spin text-5xl text-blue-500 mb-4"><i class="fa fa-spinner"></i></div><p id="loadingText" class="text-blue-400 font-bold italic">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© Ø§Ù„ØªØµÙˆÙŠØª...</p></div>
                        <div id="voteStepSuccess" class="hidden py-5"><div class="text-6xl text-green-500 mb-4 vote-success-anim"><i class="fa fa-check-circle"></i></div><h3 class="text-xl font-black text-white mb-2">ØªÙ… ÙØªØ­ Ø§Ù„ØªØµÙˆÙŠØª!</h3><p class="text-gray-400 text-xs">ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„Ù€ <span id="successName" class="text-pink-500 font-bold"></span></p><button onclick="resetVote()" class="mt-6 text-pink-500 text-xs font-bold underline">Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ØŸ</button></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div class="fixed bottom-0 left-0 right-0 bg-[#0d1117] border-t border-gray-800 flex justify-around py-4 z-50 shadow-2xl">
        <div onclick="showPage('home')" id="nav-home" class="nav-link active"><i class="fa fa-home text-xl block"></i><span class="text-[9px] font-bold italic">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
        <div onclick="showPage('vote')" id="nav-vote" class="nav-link"><i class="fa fa-vote-yea text-xl block"></i><span class="text-[9px] font-bold italic">Ø§Ù„ØªØµÙˆÙŠØª</span></div>
        <div onclick="showPage('store')" id="nav-store" class="nav-link"><i class="fa fa-shopping-bag text-xl block"></i><span class="text-[9px] font-bold italic">Ø§Ù„Ù…ØªØ¬Ø±</span></div>
        <a href="https://discord.gg/kuXEjUDHmq" target="_blank" class="nav-link text-indigo-400"><i class="fab fa-discord text-xl block"></i><span class="text-[9px] font-bold italic">Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</span></a>
    </div>

    <script>
        let isBedrock = false;
        let loggedInPlayer = "";

        // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
        const EXTERNAL_VOTE_URL = 'https://minecraftservers.org/server/682627';

        function checkSavedUser() {
            const savedName = localStorage.getItem('mc_name');
            const savedPlatform = localStorage.getItem('mc_platform');
            if (savedName) {
                isBedrock = (savedPlatform === 'Bedrock');
                applyLogin(savedName);
            }
        }

        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('page-active'));
            const targetPage = document.getElementById('page-' + pageId);
            if(targetPage) targetPage.classList.add('page-active');
            
            document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
            const activeNav = document.getElementById('nav-' + pageId);
            if(activeNav) activeNav.classList.add('active');
        }

        function openModal() { document.getElementById('loginModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('loginModal').style.display = 'none'; }
        
        function setPlatform(val) {
            isBedrock = val;
            document.getElementById('btn-yes').classList.toggle('active', val);
            document.getElementById('btn-no').classList.toggle('active', !val);
        }

        function login() {
            const name = document.getElementById('usernameInput').value;
            if(!name) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø§Ø³Ù…!");
            localStorage.setItem('mc_name', name);
            localStorage.setItem('mc_platform', isBedrock ? 'Bedrock' : 'Java');
            applyLogin(name);
            closeModal();
        }

        function applyLogin(name) {
            loggedInPlayer = name;
            document.getElementById('display-name').innerText = name;
            document.getElementById('display-platform').innerText = isBedrock ? "Bedrock" : "Java";
            document.getElementById('player-head').src = isBedrock ? `https://mc-heads.net/avatar/steve` : `https://mc-heads.net/avatar/${name}`;
            document.getElementById('login-trigger').classList.add('hidden');
            document.getElementById('user-profile').classList.remove('hidden');
            document.getElementById('vote-area').classList.remove('lock-overlay');
            document.getElementById('vote-msg').innerText = "âœ… Ø£Ù‡Ù„Ø§Ù‹ " + name + "ØŒ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø­ÙÙˆØ¸!";
            document.getElementById('vote-msg').className = "text-green-400 font-bold mb-8 italic text-sm";
        }

        function startInternalVote() {
            // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø´ÙƒÙ„ Ø¬Ù…ÙŠÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
            document.getElementById('voteStep1').classList.add('hidden');
            document.getElementById('voteStepLoading').classList.remove('hidden');

            // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· 1 Ø«Ø§Ù†ÙŠØ© Ù„ÙŠØ¹Ø·ÙŠ Ø§Ù†Ø·Ø¨Ø§Ø¹ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø«Ù… ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹
            setTimeout(() => {
                window.open(EXTERNAL_VOTE_URL, '_blank');
                
                document.getElementById('voteStepLoading').classList.add('hidden');
                document.getElementById('voteStepSuccess').classList.remove('hidden');
                document.getElementById('successName').innerText = loggedInPlayer;
            }, 1000);
        }

        function resetVote() {
            document.getElementById('voteStepSuccess').classList.add('hidden');
            document.getElementById('voteStepLoading').classList.add('hidden');
            document.getElementById('voteStep1').classList.remove('hidden');
        }

        function logout() {
            localStorage.removeItem('mc_name');
            localStorage.removeItem('mc_platform');
            location.reload();
        }

        function toggleUserMenu() {
            const m = document.getElementById('logout-dropdown');
            m.style.display = (m.style.display === 'block') ? 'none' : 'block';
        }

        window.onclick = function(e) {
            if (!e.target.closest('#user-profile')) document.getElementById('logout-dropdown').style.display = 'none';
            if (e.target == document.getElementById('loginModal')) closeModal();
        }
    </script>
</body>
</html>
